<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>code</title>
  
  <subtitle>code</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://xieb.github.io/blog/"/>
  <updated>2020-04-21T06:15:27.172Z</updated>
  <id>https://xieb.github.io/blog/</id>
  
  <author>
    <name>xie xie</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>cordova网络请求404/一次血泪史</title>
    <link href="https://xieb.github.io/blog/2020/04/21/cordova%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82404-%E4%B8%80%E6%AC%A1%E8%A1%80%E6%B3%AA%E5%8F%B2/"/>
    <id>https://xieb.github.io/blog/2020/04/21/cordova网络请求404-一次血泪史/</id>
    <published>2020-04-21T06:08:37.000Z</published>
    <updated>2020-04-21T06:15:27.172Z</updated>
    
    <content type="html"><![CDATA[<ul><li>由于之前封装的axios请求有问题，打印错误的时候给人误导<br><code>Cannot read property &#39;url&#39; of undefined</code></li><li>后来多次看到报404的错误,但是一直没有留意,感觉不应该是这样的问题.</li><li>找了好几圈没找到答案,中间也怀疑过是白名单的问题,但确认了多次,配置没有问题</li><li>最后尝试搜索<br><code>cordova ajax 404</code></li><li>最终找到<a href="http://blog.sina.com.cn/s/blog_be2200300102wti4.html" target="_blank" rel="noopener">答案</a></li><li>最终重装了白名单插件,完美解决<br><code>cordova plugin add cordova-plugin-whitelist --dev</code></li><li>方向错误,永远找不到答案</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;由于之前封装的axios请求有问题，打印错误的时候给人误导&lt;br&gt;&lt;code&gt;Cannot read property &amp;#39;url&amp;#39; of undefined&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;后来多次看到报404的错误,但是一直没有留意,感觉不应该
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>android系统升级webview方法</title>
    <link href="https://xieb.github.io/blog/2020/04/17/android%E7%B3%BB%E7%BB%9F%E5%8D%87%E7%BA%A7webview%E6%96%B9%E6%B3%95/"/>
    <id>https://xieb.github.io/blog/2020/04/17/android系统升级webview方法/</id>
    <published>2020-04-17T13:16:52.000Z</published>
    <updated>2020-04-18T01:41:11.107Z</updated>
    
    <content type="html"><![CDATA[<ul><li>使用adb connect 192.168.1.135连接安卓设备，如果提示<br><code>cannot connect to 192.168.1.135:5555: 由于目标计算机积极拒绝，无法连接。 (10061)</code></li><li>下载adbwireless.apk安装到android设备上，重新尝试</li><li>使用如下命令<br><code>adb shell</code></li><li>进入android命令行，找到webview的目录<br><code>/system/app/webview</code></li><li><p>执行备份操作</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mount -o rw,remount /system // 重新挂载,否则无法写入</span><br><span class="line">cd /system/app</span><br><span class="line">mv webview webview-b</span><br><span class="line">mkdir -p webview/lib/arm</span><br></pre></td></tr></table></figure></li><li><p>下载好的.apk 直接改成 .zip 然后解压缩，复制出libwebviewchromium.so,同webview.apk一并覆盖</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/system/app/webview/lib/arm/libwebviewchromium.so</span><br><span class="line">/system/app/webview/webview.apk</span><br></pre></td></tr></table></figure></li><li><p>设置执行权限<br><code>chmod 777 webview/*</code></p></li><li>重启<br><code>adb reboot</code></li><li>失败了,先用安卓包内置webview解决吧</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;使用adb connect 192.168.1.135连接安卓设备，如果提示&lt;br&gt;&lt;code&gt;cannot connect to 192.168.1.135:5555: 由于目标计算机积极拒绝，无法连接。 (10061)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;下载a
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>vue项目history模式tomcat配置</title>
    <link href="https://xieb.github.io/blog/2020/04/17/vue%E9%A1%B9%E7%9B%AEhistory%E6%A8%A1%E5%BC%8Ftomcat%E9%85%8D%E7%BD%AE/"/>
    <id>https://xieb.github.io/blog/2020/04/17/vue项目history模式tomcat配置/</id>
    <published>2020-04-17T11:30:29.000Z</published>
    <updated>2020-04-17T11:31:31.652Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>在网站根目录新增文件WEB-INF/web.xml,内容如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;web-app&gt;</span><br><span class="line">&lt;error-page&gt;  </span><br><span class="line">&lt;error-code&gt;404&lt;/error-code&gt;  </span><br><span class="line">&lt;location&gt;/index.html&lt;/location&gt;  </span><br><span class="line">&lt;/error-page&gt;  </span><br><span class="line">&lt;/web-app&gt;</span><br></pre></td></tr></table></figure></li><li><p>需要重启tomcat</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;&lt;p&gt;在网站根目录新增文件WEB-INF/web.xml,内容如下&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>electron使用原生模块编译下载文件报错</title>
    <link href="https://xieb.github.io/blog/2020/04/16/electron%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%94%9F%E6%A8%A1%E5%9D%97%E7%BC%96%E8%AF%91%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E6%8A%A5%E9%94%99/"/>
    <id>https://xieb.github.io/blog/2020/04/16/electron使用原生模块编译下载文件报错/</id>
    <published>2020-04-16T05:59:31.000Z</published>
    <updated>2020-04-16T06:03:31.555Z</updated>
    
    <content type="html"><![CDATA[<ul><li>我们编译构建electron项目时，会下载相关文件，可能会失败.</li><li>本质上是node-gyp编译原生模块需要相关依赖</li><li>可以修改node-gyp编译参数<br><code>node-gyp rebuild --target=1.8.8 --arch=ia32 --dist-url=http://npm.taobao.org/mirrors/atom-shell</code></li><li>完成后，会在C:\Users\Administrator\AppData\Local\node-gyp\Cache目录生成相关版本文件,把他拷贝到C:\Users\Administrator.electron-gyp目录下即可</li><li>应该会有相关配置，后期更新吧</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;我们编译构建electron项目时，会下载相关文件，可能会失败.&lt;/li&gt;
&lt;li&gt;本质上是node-gyp编译原生模块需要相关依赖&lt;/li&gt;
&lt;li&gt;可以修改node-gyp编译参数&lt;br&gt;&lt;code&gt;node-gyp rebuild --target=1.8
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js错误阻塞</title>
    <link href="https://xieb.github.io/blog/2019/08/01/js/"/>
    <id>https://xieb.github.io/blog/2019/08/01/js/</id>
    <published>2019-08-01T08:49:14.000Z</published>
    <updated>2019-08-01T08:50:17.144Z</updated>
    
    <content type="html"><![CDATA[<ul><li>js错误按文件分，不同文件的报错不影响另外文件的运行</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;js错误按文件分，不同文件的报错不影响另外文件的运行&lt;/li&gt;
&lt;/ul&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>node-gyp rebuild</title>
    <link href="https://xieb.github.io/blog/2019/07/10/node-gyp/"/>
    <id>https://xieb.github.io/blog/2019/07/10/node-gyp/</id>
    <published>2019-07-10T09:28:47.000Z</published>
    <updated>2019-07-10T09:31:21.881Z</updated>
    
    <content type="html"><![CDATA[<ul><li>使用node-usb npm包，引入报错</li><li>在包目录下执行node-gyp rebuild重新编译</li><li>node-gyp 为了解决跨平台报错的问题</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;使用node-usb npm包，引入报错&lt;/li&gt;
&lt;li&gt;在包目录下执行node-gyp rebuild重新编译&lt;/li&gt;
&lt;li&gt;node-gyp 为了解决跨平台报错的问题&lt;/li&gt;
&lt;/ul&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js异常处理</title>
    <link href="https://xieb.github.io/blog/2019/04/26/js%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"/>
    <id>https://xieb.github.io/blog/2019/04/26/js异常处理/</id>
    <published>2019-04-26T01:51:30.000Z</published>
    <updated>2019-04-26T02:12:02.833Z</updated>
    
    <content type="html"><![CDATA[<h3 id="回调异常处理"><a href="#回调异常处理" class="headerlink" title="回调异常处理"></a>回调异常处理</h3><ul><li>异步代码抛异常无法捕获，建议使用Promise处理</li><li>js异常可以捕获语法错误等异常  </li></ul><h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><ul><li>不可以使用async修饰  </li></ul><h3 id="异常流程"><a href="#异常流程" class="headerlink" title="异常流程"></a>异常流程</h3><ul><li>如果异常有捕获，不影响下面代码执行  </li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;回调异常处理&quot;&gt;&lt;a href=&quot;#回调异常处理&quot; class=&quot;headerlink&quot; title=&quot;回调异常处理&quot;&gt;&lt;/a&gt;回调异常处理&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;异步代码抛异常无法捕获，建议使用Promise处理&lt;/li&gt;
&lt;li&gt;js异常可以捕获语法错误等
      
    
    </summary>
    
    
      <category term="javascript" scheme="https://xieb.github.io/blog/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>DNS 理解误区及问题</title>
    <link href="https://xieb.github.io/blog/2019/02/14/dns/"/>
    <id>https://xieb.github.io/blog/2019/02/14/dns/</id>
    <published>2019-02-14T02:25:55.000Z</published>
    <updated>2019-02-14T02:59:57.606Z</updated>
    
    <content type="html"><![CDATA[<h3 id="每次查询都会从网卡属性中的第一个DNS服务器开始查"><a href="#每次查询都会从网卡属性中的第一个DNS服务器开始查" class="headerlink" title="每次查询都会从网卡属性中的第一个DNS服务器开始查"></a>每次查询都会从网卡属性中的第一个DNS服务器开始查</h3><ul><li>以为先配置内网DNS服务器，就能确保内网地址都能解析了。但是谁也没法保证内网查询永远不会出现超时。当内网服务器出现超时无返回结果，它在客户端DNS列表中的查询顺序会降低。以后再查询的时候就不会先查它了。所以，你填的DNS列表中的顺序并没有太大意义，运行了一段时间后，他们的顺序也会变得不同。</li></ul><h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p><strong>我在内网用dnsmasq搞了一个服务器，配置dl.tt泛解析，但解析的域名有时走dnsmasq，有时走备用dns</strong></p><ul><li>暂时使用一个主dns解决。</li></ul><h3 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h3><ul><li>使用regedit打开注册表</li><li>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Dnscache\Parameters</li><li>右键新建 DWORD，名为ServerPriorityTimeLimit，值为0，重启解决</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;每次查询都会从网卡属性中的第一个DNS服务器开始查&quot;&gt;&lt;a href=&quot;#每次查询都会从网卡属性中的第一个DNS服务器开始查&quot; class=&quot;headerlink&quot; title=&quot;每次查询都会从网卡属性中的第一个DNS服务器开始查&quot;&gt;&lt;/a&gt;每次查询都会从网卡属性
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>markdown 语法</title>
    <link href="https://xieb.github.io/blog/2019/02/12/markdown-test/"/>
    <id>https://xieb.github.io/blog/2019/02/12/markdown-test/</id>
    <published>2019-02-12T02:59:33.000Z</published>
    <updated>2019-02-12T03:14:26.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="这是h2标题"><a href="#这是h2标题" class="headerlink" title="这是h2标题"></a>这是h2标题</h3><p><strong>这是加粗的字体</strong><br><em>这是斜体</em><br><strong><em>斜体加粗</em></strong><br><del>删除线文字</del></p><blockquote><p>这是引用</p><blockquote><p>二级引用</p><blockquote><p>三级了<br>二级</p></blockquote></blockquote></blockquote><hr><p>上面分割线不成功？<br><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1529733303471&amp;di=451ddd05dd47323e509db124d5611b17&amp;imgtype=0&amp;src=http%3A%2F%2Fimg.25pp.com%2Fuploadfile%2Fsoft%2Fimages%2F2013%2F0103%2F20130103033541695.jpg" alt="这是图片" title="这是title"><br><img src="timg.jpg" alt="这是本地图片"><br><img src="/blog/2019/02/12/markdown-test/timg.jpg" title="This is an example image"></p><p><a href="http://www.baidu.com" title="这是超链接title" target="_blank" rel="noopener">超链接百度</a><br><a href="/about">超链接本地</a></p><ul><li>无序列表</li></ul><ul><li>无序列表</li></ul><ul><li>无序列表</li></ul><p>1.有序列表<br>2.有序列表</p><ul><li>列表嵌套<ul><li>列表嵌套<ul><li>又一级<ol><li>啊啊啊</li><li>不不不</li></ol></li></ul></li></ul></li></ul><p><code>console.log(&#39;aa&#39;)</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'这是一段牛逼的代码'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>表格</th><th style="text-align:center">Academy</th><th style="text-align:right">score</th></tr></thead><tbody><tr><td>Harry Potter</td><td style="text-align:center">Gryffindor</td><td style="text-align:right">90</td></tr><tr><td>Harry Potter</td><td style="text-align:center">Gryffindor啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊</td><td style="text-align:right">90</td></tr></tbody></table><div class="tip"><br>    预处理器很强大，但它只是编写 CSS 的辅助工具。出于对扩展和维护等方面的考虑，在大型项目中有必要使用预处理器构建 CSS；但是对于小型项目，原生的 CSS 可能是一种更好的选择。不要肆意使用预处理器！<br></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;这是h2标题&quot;&gt;&lt;a href=&quot;#这是h2标题&quot; class=&quot;headerlink&quot; title=&quot;这是h2标题&quot;&gt;&lt;/a&gt;这是h2标题&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;这是加粗的字体&lt;/strong&gt;&lt;br&gt;&lt;em&gt;这是斜体&lt;/em&gt;&lt;br&gt;&lt;strong&gt;&lt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>gitea docker(centos7)安装配置过程</title>
    <link href="https://xieb.github.io/blog/2019/02/12/gitea-docker-centos7-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E8%BF%87%E7%A8%8B/"/>
    <id>https://xieb.github.io/blog/2019/02/12/gitea-docker-centos7-安装配置过程/</id>
    <published>2019-02-12T02:54:02.000Z</published>
    <updated>2019-02-12T02:54:19.819Z</updated>
    
    <content type="html"><![CDATA[<h5 id="安装docker-参考官方教程（建议使用最新版本）"><a href="#安装docker-参考官方教程（建议使用最新版本）" class="headerlink" title="安装docker,参考官方教程（建议使用最新版本）"></a>安装docker,参考官方教程（建议使用最新版本）</h5><p><code>curl -fsSL https://get.docker.com/ | sh</code><br>&nbsp;</p><h5 id="添加开机启动"><a href="#添加开机启动" class="headerlink" title="添加开机启动"></a>添加开机启动</h5><p><code>systemctl enable docker</code><br>&nbsp;</p><h5 id="拉取gitea-docker镜像"><a href="#拉取gitea-docker镜像" class="headerlink" title="拉取gitea docker镜像"></a>拉取gitea docker镜像</h5><p><code>docker pull gitea/gitea:latest</code><br>&nbsp;</p><h5 id="创建挂载目录-保证重启docker数据不丢失"><a href="#创建挂载目录-保证重启docker数据不丢失" class="headerlink" title="创建挂载目录,保证重启docker数据不丢失"></a>创建挂载目录,保证重启docker数据不丢失</h5><p><code>sudo mkdir -p /var/lib/gitea</code><br>&nbsp;</p><h5 id="创建docker容器"><a href="#创建docker容器" class="headerlink" title="创建docker容器"></a>创建docker容器</h5><p><code>docker run -d --name=gitea -p 10022:22 -p 10080:3000 -v /var/lib/gitea:/data gitea/gitea:latest</code></p><blockquote><p>创建一个name是gitea,容器端口22映射到母机10022、3000映射到母机10080，挂载母机/var/lib/gitea到docker容器内作为/data挂载点</p></blockquote><blockquote><p>登入后会让你填写基本信息，数据库建议选择sqlite，免去安装数据库的麻烦。</p></blockquote><p>&nbsp;</p><h5 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h5><blockquote><p>安装完成后，修改配置文件conf/app.ini</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SSH_PORT         = 20022 //web页面显示的ssh端口</span><br><span class="line">LANDING_PAGE = explore //默认显示登录页</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h5 id=&quot;安装docker-参考官方教程（建议使用最新版本）&quot;&gt;&lt;a href=&quot;#安装docker-参考官方教程（建议使用最新版本）&quot; class=&quot;headerlink&quot; title=&quot;安装docker,参考官方教程（建议使用最新版本）&quot;&gt;&lt;/a&gt;安装docker,参考
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://xieb.github.io/blog/2019/02/11/hello-world/"/>
    <id>https://xieb.github.io/blog/2019/02/11/hello-world/</id>
    <published>2019-02-11T07:55:35.920Z</published>
    <updated>2019-02-11T07:55:35.920Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
